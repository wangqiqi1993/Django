{% extends "base.html" %}
{% block title%}欢迎来吐槽{% endblock %}
{% block content %}
<div class = 'container'>
	<form name = 'my_form' method = 'GET' action = '.'>
		<table>
		{{form.as_table}}
		<tr>
		<td></td>
		<td>
		 <input type = 'submit' value = '搜索'>
		</td>
		<tr>
		</table>

	

	{% if query %}
		<h3>搜索结果为：<h3>
		
			{% for result in page.object_list %}
				<p>
					<h4>昵称：<a href = "/list">{{result.object.nickname}}</a>
</h4>
					<p>帖文内容：<a href = "/list">{{result.object.message}}</a></p>
				</p>
			{% empty %}
				<p>没有相对应的结果</p>
			{% endfor %}
		{% if page.has_previous or page.has_next %}
			<div>
				{% if page.has_previous %}<a href="?q={{ query }}&amp;page={{ page.previous_page_number }}">{% endif %}&laquo; Previous {% if page.has_previous %}</a>{% endif %}  
                |  
                {% if page.has_next %}<a href="?q={{ query }}&amp;page={{ page.next_page_number }}">{% endif %}Next  &raquo;{% if page.has_next %}</a>{% endif %}  

			</div>
		{% endif %}
	{% else  %}
		{# Show some example queries to run,maybe query syntax,something else? #}
	{% endif %}

	</form>
</div>
{% endblock %}
